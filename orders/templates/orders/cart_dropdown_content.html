<div class="p-4 max-h-96 overflow-y-auto">
    {% if cart_items %}
    <h3 class="font-semibold text-gray-900 mb-3">Your Cart ({{ cart_count }})</h3>
    
    <!-- Cart Items -->
    <div class="space-y-3 mb-4">
        {% for item in cart_items %}
        <div class="flex items-center space-x-3 cart-item-row">
            <!-- Product Image -->
            <div class="flex-shrink-0">
                {% if item.product.products_image %}
                <img src="{{ item.product.products_image.url }}" alt="{{ item.product.products_name }}" 
                     class="w-12 h-12 object-cover rounded-lg">
                {% else %}
                <div class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center">
                    <i class="fas fa-image text-gray-400 text-xs"></i>
                </div>
                {% endif %}
            </div>

            <!-- Product Details -->
            <div class="flex-1 min-w-0">
                <h4 class="text-sm font-medium text-gray-900 truncate">{{ item.product.products_name }}</h4>
                <div class="text-xs text-gray-500">
                    Qty: {{ item.quantity }}
                    {% if item.color %} Â· {{ item.color }}{% endif %}
                </div>
                <div class="text-sm font-semibold text-gray-900">${{ item.subtotal }}</div>
            </div>

            <!-- Remove Button -->
            <button class="remove-cart-item-ajax text-red-600 hover:text-red-800 p-1 transition duration-150"
                    data-item-id="{{ item.cart_key }}"
                    data-remove-url="{% url 'orders:remove_from_cart' %}">
                <i class="fas fa-times text-xs"></i>
            </button>
        </div>
        {% endfor %}
    </div>

    <!-- Cart Total -->
    <div class="border-t border-gray-200 pt-3 mb-4">
        <div class="flex justify-between items-center font-semibold text-gray-900">
            <span>Total:</span>
            <span>${{ total_price }}</span>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="space-y-2">
        <a href="{% url 'orders:view_cart' %}" 
           class="block w-full bg-gray-200 text-gray-700 py-2 px-4 rounded-lg text-sm font-semibold hover:bg-gray-300 transition duration-200 text-center">
            View Cart
        </a>
        <a href="{% url 'orders:checkout' %}" 
           class="block w-full bg-blue-600 text-white py-2 px-4 rounded-lg text-sm font-semibold hover:bg-blue-700 transition duration-200 text-center">
            Checkout
        </a>
    </div>
    {% else %}
    <!-- Empty Cart -->
    <div class="text-center py-8">
        <i class="fas fa-shopping-cart text-3xl text-gray-400 mb-3"></i>
        <p class="text-gray-600 text-sm">Your cart is empty</p>
        <a href="{% url 'products:product_list' %}" 
           class="inline-block mt-3 bg-blue-600 text-white py-2 px-4 rounded-lg text-sm font-semibold hover:bg-blue-700 transition duration-200">
            Start Shopping
        </a>
    </div>
    {% endif %}
</div>